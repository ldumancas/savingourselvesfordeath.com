# Introduction

This repository contains the configuration for my Hugo and Blowfish based static personal website.

# Building
## Manual
In a Debian Linux environment ensure that `git`, `hugo` are installed.
```
# Install Git
sudo apt-get update \
sudo apt-get install git-all

# Install Hugo
sudo snap install hugo \
sudo snap connect hugo:removable-media \
sudo snap connect hugo:ssh-keys
```
Clone the project and then run the command `hugo` from the `./static-site` directory to build the site. To test the site locally use the command `hugo server`.
## Automation
### Docker
In the `./build-and-deploy` directory there is a packer file `hugo-build.pkr.hcl`. This file defines an Alpine Linux based docker image with the working directory set to `/mnt` and the entrypoint set to `hugo`. By mounting the `./static-site` directory to `/mnt` within the container generated by the build image, the site is built in the `./static-site/public` directory.

The dockerized build command is:
```
docker run -v $PWD/static-site:/mnt ldumancas/hugo-build:latest
```

# Dependencies
- Hugo: https://gohugo.io/installation/
    - Installed via `snap` in WSL Ubuntu 22.04 environment - https://gohugo.io/installation/linux/#snap
- Blowfish: https://blowfish.page/docs/installation/
    - Installed as a `git` submodule - https://blowfish.page/docs/installation/#install-using-git
